{"remainingRequest":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\src\\views\\register.vue?vue&type=style&index=0&id=77453986&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\src\\views\\register.vue","mtime":1617708212000},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\css-loader\\dist\\cjs.js","mtime":1695374999050},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1695374999645},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\postcss-loader\\src\\index.js","mtime":1695374999532},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\less-loader\\dist\\cjs.js","mtime":1695375012442},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695374980619},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\vue-loader\\lib\\index.js","mtime":1695374999645}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmVsLXJvdyB7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgJjpsYXN0LWNoaWxkIHsKICAgICAgbWFyZ2luLWJvdHRvbTogMDsKICAgIH0KICB9Ci5yZWdpc3Rlcl9jb250YWluZXJ7CiAgIGhlaWdodDogMTAwJTsKICAgd2lkdGg6IDEwMCU7CiAgIG92ZXJmbG93OiBoaWRkZW47CiAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgYmFja2dyb3VuZDogdXJsKCIuLi9hc3NldHMvYmFjLmpwZyIpIG5vLXJlcGVhdDsKICAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7Cn0KLmVsLWljb24tYXJyb3ctbGVmdHsKIG1hcmdpbi1sZWZ0OiAwICFpbXBvcnRhbnQ7Cn0KLmhlYWRlcnsKICB0ZXh0LWFsaWduOiBsZWZ0OwogIGJhY2tncm91bmQtY29sb3I6IzhlYzFmNzU3OwogIGZvbnQtc2l6ZTogMjBweDsKICBjb2xvcjogd2hpdGU7CiAgbGluZS1oZWlnaHQ6IDUwcHg7Cn0KCi5lbC1mb3JtewoKICBtYXJnaW46IDIwcHggYXV0bzsKICB3aWR0aDogOTIlOwp9Ci5lbC1mb3JtIC9kZWVwLyAuZWwtaW5wdXRfX2ljb257CiAgbGluZS1oZWlnaHQ6IDQwcHggIWltcG9ydGFudDsKfQouZWwtZm9ybSAvZGVlcC8gLmVsLWZvcm0taXRlbV9fbGFiZWx7CiAgY29sb3I6ICNkMGQwZDAgIWltcG9ydGFudDsKfQouZWwtZm9ybSAvZGVlcC8gLmVsLWZvcm0taXRlbV9fY29udGVudHsKICB0ZXh0LWFsaWduOiBsZWZ0OwogIG1hcmdpbjogMDsKfQouZWwtZm9ybS1pdGVtewogIG1hcmdpbi1ib3R0b206IDIwcHg7Cn0KLmVsLWJ1dHRvbnsKICBtYXJnaW4tdG9wOiAwICFpbXBvcnRhbnQ7Cn0K"},{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"register_container\">\n    <div class=\"header\">\n    <el-row :gutter=\"20\">\n      <el-col :span=\"3\" :offset=\"1\"><i class=\"el-icon-arrow-left\" @click=\"back\"></i></el-col>\n      <el-col :span=\"6\" :offset=\"7\"><div>注册</div></el-col>\n    </el-row>\n      </div>\n\n     \n\n    <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"80px\" class=\"demo-ruleForm\">\n\n      <el-form-item label=\"用户名\" prop=\"name\">\n        <el-input v-model=\"ruleForm.username\" placeholder=\"字母、数字或'_',3-15位\"></el-input>\n      </el-form-item>\n       <el-form-item  label=\"密码\" prop=\"password\">\n        <el-input type=\"password\" v-model=\"ruleForm.password\" placeholder=\"6-15位\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"确认密码\" prop=\"confirm\">\n        <el-input type=\"password\" v-model=\"ruleForm.confirm\" placeholder=\"请再次确认密码\"></el-input>\n      </el-form-item>\n\n\n      <el-form-item label=\"证件类型\">\n        <el-select type=\"password\" v-model=\"ruleForm.region\" placeholder=\"请选择\" style=\"width: 100%;\">\n        <el-option label=\"中国居民身份证\" value=\"0\"></el-option>\n        </el-select>\n    </el-form-item>\n\n    <el-form-item label=\"证件号码\" prop=\"idcard\">\n        <el-input v-model=\"ruleForm.idcard\" placeholder=\"证件号\"></el-input>\n      </el-form-item>\n    <el-form-item label=\"真实姓名\" prop=\"realname\">\n        <el-input v-model=\"ruleForm.realname\" placeholder=\"请输入真实姓名，以便购票\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"联系方式\" prop=\"phone\">\n        <el-input v-model=\"ruleForm.phone\" placeholder=\"请准确填写您的手机号\"></el-input>\n      </el-form-item>\n      \n       <el-form-item label=\"旅客类型\">\n        <el-select  v-model=\"ruleForm.type\" placeholder=\"请选择旅客类型\" style=\"width: 100%;\">\n        <el-option label=\"成人\" value=\"0\"></el-option>\n        <el-option label=\"学生\" value=\"1\"></el-option>\n        </el-select>\n    </el-form-item>\n    <el-form-item>\n      <el-checkbox v-model=\"ruleForm.checked\"><el-button type=\"text\" @click=\"open\">我已阅读铁路相关部门协议</el-button></el-checkbox>\n    </el-form-item>\n      <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">注册</el-button>\n\n</el-form>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  data() {\n    // eslint-disable-next-line no-unused-vars\n    var validatePassword = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请再次输入密码'));\n        } else if (value !== this.ruleForm.password) {\n          callback(new Error('两次输入密码不一致!'));\n        } else {\n          callback();\n        }\n      };\n      return {\n        \n        ruleForm: {\n          username: '',\n          password: '',\n          confirm:'',\n          region:'0',\n          idcard: '',\n          realname: '',\n          phone:'',\n          type:'0',\n          status:0,\n          checked: false,\n        },\n        rules: {\n          username: [\n            { required: true, message: '请填写用户名', trigger: 'blur' },\n            { min: 3, max: 15, message: '长度在 3 到 15 个字符', trigger: 'blur' }\n          ],\n          password: [\n            { required: true, message: '请输入密码', trigger: 'blur' },\n            { min: 6, max: 15, message: '长度在 6 到 15 个字符', trigger: 'blur' }\n          ],\n         confirm: [\n            { required: true,validator:validatePassword, trigger: 'blur' }\n         ],\n         phone:[\n           {min: 11, max: 11, message: '请输入正确的手机号', trigger: 'blur'}\n         ]\n        }\n      };\n    },\n    methods: {\n      open() {\n        this.$dialog.alert({\n        message: '铁路协议，xxxxxxx',\n      }).then(() => {\n        // on close\n      });\n      },\n      back(){\n        this.$router.go(-1)\n      },\n      submitForm(formName) {\n        let that = this;\n        if(!this.ruleForm.checked){\n          this.$notify({ type: 'warning', message: '请勾选用户协议' });\n          return;\n        }\n\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.$toast.loading({\n            duration:300,\n            message: '注册中',\n            forbidClick: true,\n          });\n            that.ruleForm.password=that.$md5(that.ruleForm.password);\n            this.$axios({\n              method:'post',\n              url:'/user/register',\n              data: this.ruleForm\n            }).then(function(res){\n              console.log(res)\n              if(res.data.code==200){\n                that.$notify({ type: 'success', message: '注册成功' });\n                that.$router.push(\"/\")\n              }else if(res.data.code==302){\n                 that.$notify({ type: 'warning', message: '用户名已被注册' });\n              }else{\n                that.$notify({ type: 'warning', message: '注册失败' });\n              }\n            }).catch(function (error) {\n              console.log(error);\n              });\n          } else {\n            this.$notify({ type: 'warning', message: '注册失败' });\n            console.log('error submit!!');\n            return false;\n          }\n        });\n      },\n      \n    }\n}\n</script>\n<style lang=\"less\" scoped>\n.el-row {\n    margin-bottom: 20px;\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n.register_container{\n   height: 100%;\n   width: 100%;\n   overflow: hidden;\n   position: absolute;\n   background: url(\"../assets/bac.jpg\") no-repeat;\n   background-size: 100% 100%;\n}\n.el-icon-arrow-left{\n margin-left: 0 !important;\n}\n.header{\n  text-align: left;\n  background-color:#8ec1f757;\n  font-size: 20px;\n  color: white;\n  line-height: 50px;\n}\n\n.el-form{\n\n  margin: 20px auto;\n  width: 92%;\n}\n.el-form /deep/ .el-input__icon{\n  line-height: 40px !important;\n}\n.el-form /deep/ .el-form-item__label{\n  color: #d0d0d0 !important;\n}\n.el-form /deep/ .el-form-item__content{\n  text-align: left;\n  margin: 0;\n}\n.el-form-item{\n  margin-bottom: 20px;\n}\n.el-button{\n  margin-top: 0 !important;\n}\n</style>"]}]}