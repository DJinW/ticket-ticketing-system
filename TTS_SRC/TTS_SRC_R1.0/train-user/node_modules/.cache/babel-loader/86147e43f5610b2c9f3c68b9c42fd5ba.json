{"remainingRequest":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\src\\views\\QueryTrain.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\src\\views\\QueryTrain.vue","mtime":1617708212000},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695374980619},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\babel-loader\\lib\\index.js","mtime":1695374980610},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695374980619},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\train-user\\node_modules\\vue-loader\\lib\\index.js","mtime":1695374999645}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDmoIflv5fkvY0KICAgICAgc2hvd2ZsYWc6IGZhbHNlLAogICAgICBzdGFydGNpdHk6ICfmna3lt54nLAogICAgICBlbmRjaXR5OiAn5a6B5rOiJywKICAgICAgdHJhaW50eXBlOiAwLAogICAgICBjb3VudDogMCwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgdHJhaW5kYXRlOiAnMjAyMC01LTMwJywKICAgICAgb3JkZXJsaXN0OiBbewogICAgICAgIGlkOiAnJywKICAgICAgICBuYW1lOiAnRzEwMCcsCiAgICAgICAgc3RhcnRjaXR5OiAn5p2t5beeJywKICAgICAgICBzdGFydHRpbWU6ICcxNi4zNycsCiAgICAgICAgZW5kY2l0eTogJ+e7jeWFtCcsCiAgICAgICAgZW5kdGltZTogJzE3OjM1JywKICAgICAgICBkdXJhdGlvbjogJzIz5YiG6ZKfJywKICAgICAgICBmbnVtOiAnMzMnLAogICAgICAgIHNudW06ICc0NCcsCiAgICAgICAgZnByaWNlOiAzMywKICAgICAgICBzcHJpY2U6IDE5CiAgICAgIH1dCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJhaW5kYXRlJykpIHRoaXMudHJhaW5kYXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RyYWluZGF0ZScpOwoKICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJzdGFydGNpdHkiKSAhPSBudWxsKSB7CiAgICAgIHRoaXMuc3RhcnRjaXR5ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgic3RhcnRjaXR5Iik7CiAgICAgIHRoaXMuZW5kY2l0eSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImVuZGNpdHkiKTsKICAgICAgdGhpcy50cmFpbnR5cGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0cmFpbnR5cGUnKTsKICAgIH0KCiAgICB0aGlzLnRyYWlucXVlcnkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uUmVmcmVzaDogZnVuY3Rpb24gb25SZWZyZXNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy50cmFpbnF1ZXJ5KCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiR0b2FzdCgn5Yi35paw5oiQ5YqfJyk7CgogICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzLmNvdW50Kys7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICAgIGJhY2s6IGZ1bmN0aW9uIGJhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgZGV0YWlsOiBmdW5jdGlvbiBkZXRhaWwoaW5kZXgpIHsKICAgICAgLy8g6L+Z6YeM6YCa6L+HbG9jYWxzdG9yYWdl5Lyg5Y+CCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0cmFpbm9yZGVyJywgSlNPTi5zdHJpbmdpZnkodGhpcy5vcmRlcmxpc3RbaW5kZXhdKSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnY29uZmlybW9yZGVyJwogICAgICB9KTsKICAgIH0sCiAgICB0cmFpbnF1ZXJ5OiBmdW5jdGlvbiB0cmFpbnF1ZXJ5KCkgewogICAgICAvLyDmjqXlj6Pmn6Xor6IKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGlzLiRheGlvcyh7CiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICB1cmw6ICcvdHJhaW4vdHJhaW50aWNrZXRxdWVyeScsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBzdGFydGNpdHk6IHRoaXMuc3RhcnRjaXR5LAogICAgICAgICAgZW5kY2l0eTogdGhpcy5lbmRjaXR5LAogICAgICAgICAgLy8g5pel5pyfCiAgICAgICAgICB0cmFpbmRhdGU6IHRoaXMudHJhaW5kYXRlLAogICAgICAgICAgdHJhaW50eXBlOiB0aGlzLnRyYWludHlwZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHRoYXQub3JkZXJsaXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgIHRoYXQuc2hvd2ZsYWcgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["QueryTrain.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"bac\" v-cloak v-if=\"showflag\">\n    <van-nav-bar\n      title=\"火车查询\">\n     <template #left>\n    <i class=\"el-icon-arrow-left\" @click=\"back\"></i>\n  </template>\n    </van-nav-bar>\n    <div class=\"traindate\">{{this.traindate}}</div>\n  <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\n    <!-- 判断是否为空 -->\n    <div v-if=\"orderlist.length!=0\">\n         <div  class=\"text item\" v-for=\"(item,index) in orderlist\" :key=\"index\" @click=\"detail(index)\">\n          <el-card class=\"box-card\">\n              <van-row>\n                <van-col span=\"4\" class=\"otherinfo\">{{item.name}}</van-col>\n                <van-col span=\"7\" class=\"city\">{{item.startcity}}</van-col>\n                <van-col span=\"6\"><i class=\"trainicon\" /></van-col>\n                <van-col span=\"7\" class=\"city\">{{item.endcity}}</van-col>\n              </van-row>\n              <van-row >\n                <van-col span=\"7\" offset=\"4\" class=\"times\">{{item.starttime}}</van-col>\n                <van-col span=\"6\" id=\"traindate\">{{item.duration}}</van-col>\n                <van-col span=\"7\"  class=\"times\">{{item.endtime}}</van-col>\n              </van-row>\n              <van-divider dashed/>\n              <van-row class=\"ticket\">\n                 <van-col span=\"7\" >一等：{{item.fnum}} 张</van-col>\n                 <van-col span=\"7\" offset=\"9\">二等：{{item.snum}} 张</van-col>\n              </van-row>\n        </el-card>\n        \n\n      </div> \n      <div class=\"fill\"></div>\n      </div>\n      <!-- 没有火车信息 -->\n      <div v-else>\n          <van-empty description=\"试试乘坐其他班次吧\" />\n      </div>\n\n  </van-pull-refresh>\n   <div class=\"test\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      // 标志位\n      showflag:false,\n      startcity:'杭州',\n      endcity:'宁波',\n      traintype:0,\n      count: 0,\n      isLoading: false,\n       traindate:'2020-5-30',\n       orderlist:[{\n        id:'',\n        name:'G100',\n        startcity:'杭州',\n        starttime:'16.37',\n        endcity:'绍兴',\n        endtime:'17:35',\n        duration:'23分钟',\n        fnum:'33',\n        snum:'44',\n        fprice:33,\n        sprice:19\n      }],\n    };\n  },\n  created(){\n    if(localStorage.getItem('traindate'))\n      this.traindate=localStorage.getItem('traindate');\n    if(sessionStorage.getItem(\"startcity\")!=null){\n      this.startcity=sessionStorage.getItem(\"startcity\");\n      this.endcity=sessionStorage.getItem(\"endcity\");\n      this.traintype=sessionStorage.getItem('traintype');\n    }\n      this.trainquery();\n\n  },\n  methods: {\n    onRefresh() {\n      this.trainquery();\n      setTimeout(() => {\n        this.$toast('刷新成功');\n        this.isLoading = false;\n        this.count++;\n      }, 1000);\n    },\n    back(){\n      this.$router.go(-1);\n    },\n    detail(index){\n      // 这里通过localstorage传参\n      localStorage.setItem('trainorder',JSON.stringify(this.orderlist[index]))\n     this.$router.push({\n      name: 'confirmorder',})\n    },\n    trainquery(){\n      // 接口查询\n    let that = this;\n    this.$axios({\n      method:'get',\n      url:'/train/trainticketquery',\n      params:{\n          startcity:this.startcity,\n          endcity:this.endcity,\n          // 日期\n          traindate: this.traindate,\n          traintype: this.traintype\n      }\n    }).then(function(res){\n      // console.log(res);\n      if(res.data.code==200){\n        that.orderlist=res.data.data;\n         that.showflag=true;\n      }\n    }).catch(function (error) {\n        console.log(error);\n        });\n\n    }\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n[v-cloak]{\n    display: none !important;\n}\n.bac{\n  // background-color:red;\n  position: relative;\n  // height: 200%;\n  width: 100%;\n}\n.van-nav-bar{\n  background-color: rgba(0, 170, 238, 1);\n  position: fixed;\n  width: 100%;\n}\n/deep/.van-nav-bar__title{\n  color: white;\n}\n/deep/.van-tab{\n  background-color:#f8f8f8;\n}\n.el-icon-arrow-left{\n margin-left: 0 !important;\n color: white;\n font-size: 22px;\n}\n/deep/.el-card__body{\n  padding:8px;\n}\n\n.traindate{\n  position: fixed;\n  top:45px;\n  height: 22px;\n  font-size: 16px;\n  width: 100%;\n  background-color:  rgba(0, 170, 238, 1);\n  border: none;\n  color: whitesmoke;\n  z-index: 1;\n}\n\n.van-pull-refresh{\n  height: 100%;\n  padding-top: 70px;\n}\n.box-card{\n  background: #fbfbfb;\n  border-radius: 10px;\n  margin: 10px;\n}\n.fill{\n  height: 200px;\n}\n.trainicon{\n  background-color: red;\n  height: 20px;\n  width:65px;\n  display: inline-block;\n  background: url('../assets/order/arrive1.png') no-repeat;\n}\n.city{\n  font-size: 20px;\n  font-weight: bold;\n}\n.otherinfo{\n  font-size: 18px;\n  margin-top: 5px;\n}\n#traindate{\n  color: #aaa;\n  font-size: 14px;\n}\n.times{\n  color: rgba(0, 170, 238, 1);\n  font-size: 13px;\n}\n.ticket{\n  font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n  font-size: 13px;\n}\n\n</style>"],"sourceRoot":"src/views"}]}