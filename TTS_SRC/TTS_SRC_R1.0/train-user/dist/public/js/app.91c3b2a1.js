(function(t){function e(e){for(var r,i,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},s={app:0},n=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("85ec"),s=a.n(r);s.a},"07ba":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACDUlEQVRYR+2XPUscURSG37Na+IHgDkGNxG6ugYhFiGirndpGG3+AZkclYJFGy9ikCATjrPoDbNRW7WJrUCwkgt7plPiBzAriR6F7ZJcMuLM7c+/dRgI73TDvOec579w7cy7hhS8yrZ905a+4mIwj+kxyGgNYruS4Ar4jjHKWFLcu7tTdPzR8AaidiV4/L0hAb+4++4iCThNVyDvDwFaBnvkU4KOa6utvf8e6bsPwRQDNaa/pgXmTgfcmnaqcIWCvmqj/PGVfhBoqLGO5chXAR9V7LOr0nzOKuDXfEUPxAPPyDIRmFUBZzxnn/rhoUTmQX2SqxRS2XFcf1hWtgSCxbsKgG119BaDiQMUBbQfK+tBoBP1/AAGx6mcTbj4qztiBCkAweAQDh8Y6y0ui4nRewSGAdt1Chroj3xFvY3/HybScI8aEYWItORN+ZlJiUjGQeG0gXgHQo5VVX7QNpmF/3D6OBcg9fPP9uPam9v4zASNgdIbHL92a+QGWsM/Acv1dzY+TqbY75VD6XGC5ch3AABLo8D+JA93COZ21IN8hiz8ANnxHDEbFxs7wph+fqCJx01IkQOOc7DXdelEAuS15NSkKzguBNhIgmfa+EvM0g8Yyjr1kYn+gTbreKIEXmWg2k7JnSuWIBLBcuQ2gOwHqunTs3XIAXrnehyx4B8Bv3xEld5XROa4cCFXMiwM8AbAHHzB5YTN2AAAAAElFTkSuQmCC"},"0c70":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB+0lEQVRYR+2XvWsUQRiHn/cuFoqFiJ2FCOE2eGClnWBSWGiKCLtXpFMEC8VKrM2BVQpLQVG0U7xVYpPCxmuCoIVYRO7WCIKghX/Cxfxk7iNI3MvO7goazJSzv/ed5/2Y2Rkjx6jFemhwYZyJYBURJw1b8HVrI2GtpbMV44wgAPaN5k00Ow1r119ocr3Hx0zHxtduaIedrtbSghmnf7H5bvCpuocHq3O25ub7AFOxLgvupjmXcTUJ7Y77FsR6A5zcDkLwKIns4lD/CphO0/+YoL523j70AYJYY4VmPOmENu909ac62KtyjY0BeNoYpT+IdQJ4O7Zcoum0mQBDBy8lXmemf7NuHNmuV5xM8DyJLPQF8F47h7DdjWxmF+DfzoBEswLtHHX9TSrjBnAuxUd2Dwhmk8iWywAEsRahD7F1ZAMAy9L4vewDNjwJ0w4jLwCfNYpqdgGyMyB4jEiK5tjZleoBEzPuV1wGYPhLvlloF/yhc+AK0CgEUCZyD9vsHvBwUkayAwAE9xDfCodZYb8J1wN7C/WA9TjambfPhQEG1733wPFCAG4X5Llib11kcknHquusAAcKAZSJ3MN2BzShRxRlJP95Bv76u8Dgdiey64Nb8TNdQtwvU9Dctsapbmgrm2+8qZamZdzCCBCHcjv0MBB8MfGOCotucWfyEymODDDDhdgfAAAAAElFTkSuQmCC"},1247:function(t,e,a){},1398:function(t,e,a){t.exports=a.p+"public/img/head.1bd2dcf8.jpg"},"17f1":function(t,e,a){"use strict";var r=a("710e"),s=a.n(r);s.a},"2c00":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAgCAYAAACVU7GwAAAC8ElEQVRYR62VT0gUYRjGn3fWoNJoZ02K6iCxsyskiReDutRFIyqioGMUormzFUIZBR6SKEjrILYzRNGlY4cOBf2jf+iluogElrNZp0BpZ7Owk7NvjBiou+v3zmx73O/3PO9vX2bnI1TwqctM13jazH6AdoF5K4FGC/De5s3kcAW1oDBh3c42EnM3gPZSeQayxHTbTcdvhOkPLBWzslcA7hUOyzHxiXwq8VjIz2OBpGptJ8MMM8iAeVbjVrcr8UKaE0vFbKcNjKfS4qUcj7pmolmaFUvplvOKgL3S4iKOqdNNx+9I8iKpWnuyhdl7Jyksz/B710zslHSIpHTLuUbAJUnhSowGr+GH2fBZ1SOSilnOKIAmVZngvMM1jbsqTir1G0CNqkx1zuChvJk4q+JkUrYzDkaDqkx5ztztphODKk4kpVvOLQLSqjLVOXGhJZdOflByKsA/j2Wy+0D8RMKWY/yrJ28ahqRDtKl5Mcv5CGC7pLQUQ8y9uXTiqiQfQGriJED3JKWlmNWR6urvpzb/keTFUgvb8q+ZNknxEobQ7qYM8Q8KJFWX+bppjuZsAg5LxRi4mDeN61Le5wJJ/SuOWtleDdwFYEv5B5uHtQL35U4nXwYRCiyl218OaFzoZOCgeBDRoFdVNTjTUf9VmhFtar01pkewxr/hj0qLl3HTIOp3U/GbkrxSKmo7zRrTCMBrJYUrMQQ8ypnGIVXPilLRIWePFsFrVUmQc8n9V1ZKtyZ3EHvPQdgYZKiI5UKfm05eLseWlYpZzjMAraIhISAiHM+ljPsl3/6lvoxZEwMAnQ8xSx5hTDFFWvPmtrHloaJNRe3xeo2r/HuuWj4hLEkDrhm/oJTSrYkeAvWHHRMsR99Wzc42TvU0zS7OFW0qZjkjAHYHKw9PE9GRXCr+UCX1C8C68GMCJkv8E5dsaoM1mSzA+xSwtlL8gWsax8puauEhF99Rldr4+VJv+aJnyr90wYVz/2OgpIM99P08Y7xZzP4FapztIYnCwVAAAAAASUVORK5CYII="},"2c9a":function(t,e,a){"use strict";var r=a("87c1"),s=a.n(r);s.a},"314e":function(t,e,a){t.exports=a.p+"public/img/grid3.06fe4849.jpg"},"358c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB4ElEQVRYR+2WPW8TQRCG31l3yAX/gLili9JFyOzYRRCKC4Kgoo4ELfQkbZS0SZeCEkRSOEhJcbtrK72p0sJPSGG58w3a01myor3s+kMyhbc63b4788zc7M0QVrxoxf4xE0Cv12vkef4sAn3PzL9TA4sCGGP2Abwkom0AG4mG70WkLyKD0Wh01Ol0RlXnKgH6/f7z8Xj8DcBWotMq2aBWq31oNpt3IUEQoNvtPqnX67cANhd0Pjk+GA6HL0KZCAJkWXaglPq6JOeFmTzPD9vt9sFDm0EA59xPEdlbJgARXWit3yYBWGstAO3FzByEtNb6fa8rZexCwNZaKd87ZuY1wDoDM2cAQLC4SkNFoaZq5irCJV7F+W7BGuB/ycDfEiS1HYf0c9fAF2Y+8QDW2s8AjiNZqdLPDdBg5iIia63PwJ8IQJU+HeBBO+4w81UJsAugGwEI6mdqx8aYHSK6njjyh/1z6owQ0ovIq1ardZP0JyyjvQDwZkm34JKZg/PFo0Opc+6jiJwuAkFEn7TWZ1U2olNx8aN37p2IfJ/+JEqpUI84B9DwOiJ6r7X+EYOPAoSch2Y77yjLsm2l1C8AT1MhogBTI1XlYDkdpTHmNRF5iGJVjXST/ShALIWL7q8BVp6Bfw7YGTCvHamAAAAAAElFTkSuQmCC"},4415:function(t,e,a){},"49d2":function(t,e,a){},"4c11":function(t,e,a){"use strict";var r=a("9531"),s=a.n(r);s.a},"4c26":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABJElEQVRYR+2XsY7CMAyGnarrPQ0PwH47Nx/iCZCoPcKNcYXEjJBgQ4KnYL7nYY1RKnrqlYKwElQQzdbKsb/8cmzHQMvLtBwfGgGstTNjTD8mnIgciGhW93kBwMw7ABjEDF7xtUfEr6rvJgDxBiLyExPCGDP1/hDxX8yrAHXDUBhmLg7WAXQKvK4CvjhpbkK96ATdgjzPRyKy0gCIyJiIFuWeIABm/gSATAMAAEtE3EYBUAZuNA9SoHUAbQKWwNVEDFLg3J6LZnLv8s0sGgAzfwPA+t7g5246IaJ5lCS01n4453oagDRNf7MsO0YB0AS+ZhuUAx1Ap8B7KqAdy5MkKaZe59zfpO3/ld+asdxXPF/5HrE2iDisOn6+p9kjjn3LZ+uv4xMEVhIwdIUhVwAAAABJRU5ErkJggg=="},"4ee0":function(t,e,a){"use strict";var r=a("1247"),s=a.n(r);s.a},5454:function(t,e,a){t.exports=a.p+"public/img/bac.30d910ba.jpg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("router-view")],1)])},n=[],i=(a("034f"),a("2877")),o={},c=Object(i["a"])(o,s,n,!1,null,null,null),l=c.exports,u=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login_container"},[t._m(0),a("div",{staticClass:"user_input"},[a("el-form",{ref:"ruleForm",staticClass:"login_form",attrs:{model:t.ruleForm,rules:t.rules,"abel-width":"0px"}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{staticClass:"www",attrs:{"prefix-icon":"el-icon-s-custom",placeholder:"用户名"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{staticClass:"www",attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"密码"},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1)],1),a("div",{staticClass:"forget"},[a("el-link",{attrs:{type:"info",underline:!1}},[t._v("忘记密码?")])],1),a("div",{staticClass:"button"},[a("el-button",{staticClass:"button1",attrs:{type:"primary",round:""},on:{click:function(e){return t.login("ruleForm")}}},[t._v("登录")]),a("el-button",{staticClass:"button2",attrs:{type:"primary",round:""},on:{click:t.register}},[t._v("注册")])],1)],1),a("div",{staticClass:"test"})])},p=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"avatar_box"},[r("img",{attrs:{src:a("d0cf")}})])}],f=(a("b0c0"),{data:function(){return{ruleForm:{name:"",password:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}]},user:{id:"",name:"张三",realname:"张三",idcard:356564615645,status:0,type:0}}},methods:{login:function(t){var e=this,a=this;this.$refs[t].validate((function(t){if(!t)return e.$notify({type:"warning",message:"登陆失败"}),console.log("error submit!!"),!1;a.$toast.loading({message:"登陆中",duration:500}),e.$axios({method:"post",url:"/user/login",data:e.$qs.stringify({username:e.ruleForm.name,password:e.$md5(e.ruleForm.password)})}).then((function(t){301==t.data.code?a.$notify({type:"warning",message:"账号或密码错误"}):200==t.data.code&&(sessionStorage.setItem("user",JSON.stringify(t.data.data)),a.$router.push("index"))})).catch((function(t){console.log(t)}))}))},register:function(){this.$router.push({path:"/register"})}}}),m=f,h=(a("8360"),Object(i["a"])(m,d,p,!1,null,null,null)),v=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register_container"},[a("div",{staticClass:"header"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3,offset:1}},[a("i",{staticClass:"el-icon-arrow-left",on:{click:t.back}})]),a("el-col",{attrs:{span:6,offset:7}},[a("div",[t._v("注册")])])],1)],1),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{attrs:{placeholder:"字母、数字或'_',3-15位"},model:{value:t.ruleForm.username,callback:function(e){t.$set(t.ruleForm,"username",e)},expression:"ruleForm.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"6-15位"},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"confirm"}},[a("el-input",{attrs:{type:"password",placeholder:"请再次确认密码"},model:{value:t.ruleForm.confirm,callback:function(e){t.$set(t.ruleForm,"confirm",e)},expression:"ruleForm.confirm"}})],1),a("el-form-item",{attrs:{label:"证件类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{type:"password",placeholder:"请选择"},model:{value:t.ruleForm.region,callback:function(e){t.$set(t.ruleForm,"region",e)},expression:"ruleForm.region"}},[a("el-option",{attrs:{label:"中国居民身份证",value:"0"}})],1)],1),a("el-form-item",{attrs:{label:"证件号码",prop:"idcard"}},[a("el-input",{attrs:{placeholder:"证件号"},model:{value:t.ruleForm.idcard,callback:function(e){t.$set(t.ruleForm,"idcard",e)},expression:"ruleForm.idcard"}})],1),a("el-form-item",{attrs:{label:"真实姓名",prop:"realname"}},[a("el-input",{attrs:{placeholder:"请输入真实姓名，以便购票"},model:{value:t.ruleForm.realname,callback:function(e){t.$set(t.ruleForm,"realname",e)},expression:"ruleForm.realname"}})],1),a("el-form-item",{attrs:{label:"联系方式",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请准确填写您的手机号"},model:{value:t.ruleForm.phone,callback:function(e){t.$set(t.ruleForm,"phone",e)},expression:"ruleForm.phone"}})],1),a("el-form-item",{attrs:{label:"旅客类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择旅客类型"},model:{value:t.ruleForm.type,callback:function(e){t.$set(t.ruleForm,"type",e)},expression:"ruleForm.type"}},[a("el-option",{attrs:{label:"成人",value:"0"}}),a("el-option",{attrs:{label:"学生",value:"1"}})],1)],1),a("el-form-item",[a("el-checkbox",{model:{value:t.ruleForm.checked,callback:function(e){t.$set(t.ruleForm,"checked",e)},expression:"ruleForm.checked"}},[a("el-button",{attrs:{type:"text"},on:{click:t.open}},[t._v("我已阅读铁路相关部门协议")])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("注册")])],1)],1)},A=[],b={data:function(){var t=this,e=function(e,a,r){""===a?r(new Error("请再次输入密码")):a!==t.ruleForm.password?r(new Error("两次输入密码不一致!")):r()};return{ruleForm:{username:"",password:"",confirm:"",region:"0",idcard:"",realname:"",phone:"",type:"0",status:0,checked:!1},rules:{username:[{required:!0,message:"请填写用户名",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}],confirm:[{required:!0,validator:e,trigger:"blur"}],phone:[{min:11,max:11,message:"请输入正确的手机号",trigger:"blur"}]}}},methods:{open:function(){this.$dialog.alert({message:"铁路协议，xxxxxxx"}).then((function(){}))},back:function(){this.$router.go(-1)},submitForm:function(t){var e=this,a=this;this.ruleForm.checked?this.$refs[t].validate((function(t){if(!t)return e.$notify({type:"warning",message:"注册失败"}),console.log("error submit!!"),!1;e.$toast.loading({duration:300,message:"注册中",forbidClick:!0}),a.ruleForm.password=a.$md5(a.ruleForm.password),e.$axios({method:"post",url:"/user/register",data:e.ruleForm}).then((function(t){console.log(t),200==t.data.code?(a.$notify({type:"success",message:"注册成功"}),a.$router.push("/")):302==t.data.code?a.$notify({type:"warning",message:"用户名已被注册"}):a.$notify({type:"warning",message:"注册失败"})})).catch((function(t){console.log(t)}))})):this.$notify({type:"warning",message:"请勾选用户协议"})}}},y=b,C=(a("4ee0"),Object(i["a"])(y,g,A,!1,null,"145e1914",null)),w=C.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view"),a("div",{staticClass:"footer"},[a("van-tabbar",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabbars,(function(e,r){return a("van-tabbar-item",{key:r,on:{click:function(a){return t.tab(r,e.path)}},scopedSlots:t._u([{key:"icon",fn:function(t){return[a("img",{attrs:{src:t.active?e.active:e.inactive}})]}}],null,!0)},[a("span",[t._v(t._s(e.name))])])})),1)],1)],1)},x=[],_={data:function(){return{currIndex:0,active:0,tabbars:[{path:"index",name:"首页",active:a("07ba"),inactive:a("358c")},{path:"order",name:"订单",active:a("0c70"),inactive:a("4c26")},{path:"mine",name:"我的",active:a("2c00"),inactive:a("8350")}]}},created:function(){sessionStorage.getItem("index")&&(this.active=parseInt(sessionStorage.getItem("index")),this.currIndex=this.active)},methods:{tab:function(t,e){this.currIndex!=t&&(sessionStorage.setItem("index",t),this.currIndex=t,this.$router.push(e))}}},S=_,I=Object(i["a"])(S,k,x,!1,null,"6be80178",null),B=I.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("div",{staticClass:"header",style:{background:t.backgroundColor}},[a("i",{staticClass:"QR"}),a("van-search",{attrs:{id:"searchBar",readonly:"",shape:"round",background:"transparent",placeholder:"请输入搜索关键词"},on:{click:t.search},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),a("van-icon",{staticClass:"chat",attrs:{name:"chat-o",dot:"",size:"22px"}})],1),a("div",{staticClass:"bac"},[a("div",{staticClass:"swipe"},[a("van-swipe",{attrs:{autoplay:3e3}},t._l(t.images,(function(t,e){return a("van-swipe-item",{key:e},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"image"}]})])})),1)],1),a("div",{staticClass:"card"},[a("div",{staticClass:"firstline"},[a("div",{staticClass:"name1"},[a("van-field",{attrs:{readonly:"",value:t.startcity},on:{click:function(e){return t.selectcity("startcity")}}})],1),a("div",{on:{click:t.reverse}},[a("i",{staticClass:"reverse"})]),a("div",{staticClass:"name1"},[a("van-field",{attrs:{value:t.endcity,readonly:""},on:{click:function(e){return t.selectcity("endcity")}}})],1)]),a("div",{staticClass:"secondline"},[a("van-cell",{attrs:{title:"出发日期",value:t.date},on:{click:function(e){t.show=!0}}}),a("van-calendar",{attrs:{"show-confirm":!1},on:{confirm:t.onConfirm},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1),a("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"只看高铁"}}),a("el-checkbox",{attrs:{label:"学生票"}})],1),a("van-button",{staticClass:"query",attrs:{color:"linear-gradient(to right,#29B8EF , #4b4bff)",round:""},on:{click:t.query}},[t._v("查询")])],1),a("div",[a("van-grid",{attrs:{gutter:10,border:!1}},t._l(t.icons,(function(t,e){return a("van-grid-item",{key:e,attrs:{icon:t.icon,text:t.text,badge:t.badge}})})),1)],1),a("van-notice-bar",{attrs:{"left-icon":"volume-o",scrollable:!1}},[a("van-swipe",{staticClass:"notice-swipe",attrs:{vertical:"",autoplay:3e3,"show-indicators":!1}},t._l(t.news,(function(e,r){return a("van-swipe-item",{key:r},[t._v(" "+t._s(e.text)+" ")])})),1)],1),a("van-grid",{attrs:{border:!1,"column-num":1}},[a("van-grid-item",[a("div",{staticClass:"gridradius"},[a("van-image",{attrs:{src:t.lunch}})],1)])],1),a("van-grid",{staticClass:"gridlast",attrs:{"column-num":2}},t._l(t.photos,(function(t,e){return a("van-grid-item",{key:e},[a("div",{staticClass:"gridradius"},[a("van-image",{attrs:{src:t.src}})],1)])})),1)],1)])},E=[],O=(a("99af"),a("c975"),{data:function(){return{backgroundColor:"transparent",startcity:"绍兴",endcity:"杭州",date:"",show:!1,checkList:[],icons:[{badge:"1",text:"温馨服务",icon:a("b8eb")},{badge:"",text:"车站大屏",icon:a("8894")},{badge:"",text:"餐饮·特产",icon:a("60d5")},{badge:"",text:"全部",icon:a("759a")}],news:[{text:"1000年前的驴友怎么游"},{text:"横穿中国要花多少钱"}],value:"",images:[a("a9d6"),a("b66f"),a("6d11")],lunch:a("85d4"),photos:[{src:a("5baa")},{src:a("aef9")},{src:a("314e")},{src:a("70cd")}],count:2}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},created:function(){null!=sessionStorage.getItem("startcity")&&(this.startcity=sessionStorage.getItem("startcity")),null!=sessionStorage.getItem("endcity")&&(this.endcity=sessionStorage.getItem("endcity")),this.nowDate()},methods:{handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;t?this.backgroundColor="rgba(0, 170, 238,".concat(t/(t+40),")"):0==t&&(this.backgroundColor="transparent")},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)},nowDate:function(){var t=new Date,e={year:t.getFullYear(),month:t.getMonth()+1,day:t.getUTCDate()};this.date=e.year+"-"+e.month+"-"+e.day},formatDate:function(t){return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getUTCDate()+1)},onConfirm:function(t){this.show=!1,this.date=this.formatDate(t)},search:function(){this.$toast("尽请期待")},selectcity:function(t){this.$router.push({name:"citylist",params:{city:t}})},reverse:function(){var t=this.startcity;this.startcity=this.endcity,this.endcity=t},query:function(){var t=this;this.$toast.loading({message:"查询中....",forbidClick:!0});var e=2;-1!=this.checkList.indexOf("只看高铁")&&(e=0),sessionStorage.setItem("traintype",e),sessionStorage.setItem("startcity",this.startcity),sessionStorage.setItem("endcity",this.endcity),localStorage.setItem("traindate",this.date);var a=1;this.timer||(this.count=a,this.timer=setInterval((function(){t.count>0&&t.count<=a?t.count--:(clearInterval(t.timer),t.timer=null,t.$router.push("querytrain"))}),1e3))}}}),R=O,D=(a("4c11"),Object(i["a"])(R,F,E,!1,null,"138796bb",null)),J=D.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showflag?a("div",{staticClass:"bac"},[a("van-nav-bar",{attrs:{title:"我的订单"}}),a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[a("van-tabs",{attrs:{animated:""},on:{change:t.changeactive},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabs,(function(e,r){return a("van-tab",{key:r,attrs:{title:e}},[0===t.ordernum[r]?a("div",[a("van-empty",{attrs:{description:"来到了没有出行的荒野"}})],1):t._e(),t._l(t.orderlist,(function(e,s){return a("div",{key:s,staticClass:"text item",on:{click:function(a){return t.detail(e.id)}}},[0==r||r==e.status||2==r&&5==e.status?a("el-card",{staticClass:"box-card"},[a("van-row",[a("van-col",{staticClass:"otherinfo",attrs:{span:"4"}},[t._v(t._s(e.trainname))])],1),a("van-row",[a("van-col",{staticClass:"city",attrs:{span:"8"}},[t._v(t._s(e.startcity))]),a("van-col",{attrs:{span:"8"}},[a("i",{staticClass:"trainicon"})]),a("van-col",{staticClass:"city",attrs:{span:"8"}},[t._v(t._s(e.endcity))])],1),a("van-row",{staticClass:"otherinfo"},[a("van-col",{attrs:{span:"8"}},[t._v(t._s(e.starttime))]),a("van-col",{attrs:{span:"8"}},[t._v(t._s(e.traindate))]),a("van-col",{attrs:{span:"8"}},[t._v(t._s(e.endtime))])],1),a("van-row",[a("van-col",{staticClass:"otherinfo",attrs:{span:"8"}},[t._v(t._s(e.carriage)+"车"+t._s(e.seat)+"座")]),a("van-col",{staticClass:"otherinfo",attrs:{span:"8",offset:"8"}},[t._v("合计"),a("span",{staticClass:"price"},[t._v("￥"+t._s(e.price))])]),a("van-col",{staticClass:"otherinfo",attrs:{span:"8"}},[t._v(t._s(e.realname))]),a("van-col",{staticClass:"otherinfo",attrs:{span:"8",offset:"8"}},[a("van-button",{staticClass:"delbutton",attrs:{plain:"",round:"",hairline:"",size:"small",type:"info"},on:{click:function(a){return a.stopPropagation(),t.delorder(e)}}},[t._v("删除订单")])],1)],1)],1):t._e()],1)}))],2)})),1)],1)],1):t._e()},Y=[],j=a("2241"),z={data:function(){return{ordernum:[0,0,0,0,0],showflag:!1,active:2,count:0,isLoading:!1,tabs:["全部","待付款","待出行","已完成","已退款"],orderlist:[{id:"1",status:2,trainname:"G100",startcity:"杭州",starttime:"16.37",endcity:"绍兴",endtime:"17:35",price:25.3,traindate:"2020-10-05",carriage:1,seat:"01A",trainid:"1"}]}},created:function(){sessionStorage.getItem("orderactive")&&(this.active=sessionStorage.getItem("orderactive")),this.queryOrders()},methods:{changeactive:function(){sessionStorage.setItem("orderactive",this.active)},countordernum:function(){for(var t=0;t<this.orderlist.length;t++)1==this.orderlist[t].status&&(this.ordernum[1]+=1),2!=this.orderlist[t].status&&5!=this.orderlist[t].status||(this.ordernum[2]+=1),3==this.orderlist[t].status&&(this.ordernum[3]+=1),4==this.orderlist[t].status&&(this.ordernum[4]+=1);this.ordernum[0]=this.orderlist.length},onRefresh:function(){var t=this;this.queryOrders(),setTimeout((function(){t.$toast("刷新成功"),t.isLoading=!1}),1e3)},delorder:function(t){var e=this;console.log(t);var a=this;j["a"].confirm({message:"是否删除该订单"}).then((function(){var r=new Date,s=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate();new Date(t.traindate)>=new Date(s)&&4!=t.status?e.$toast.fail("该订单尚未出行，不可删除"):e.$axios({method:"post",url:"/order/delorder",data:e.$qs.stringify({id:t.id})}).then((function(){a.queryOrders(),a.$toast("删除成功")})).catch((function(t){console.log(t)}))})).catch((function(){}))},detail:function(t){sessionStorage.setItem("detailorderid",t),this.$router.push({name:"detailorder"})},queryOrders:function(){var t=this,e=JSON.parse(sessionStorage.getItem("user")).id;this.$axios({method:"get",url:"/order/queryorders",params:{orderId:e}}).then((function(e){200==e.data.code&&(t.orderlist=e.data.data,t.countordernum(),t.showflag=!0)})).catch((function(t){console.log(t)}))}}},L=z,Q=(a("94b1"),Object(i["a"])(L,U,Y,!1,null,"a6eb9f14",null)),P=Q.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bac"},[a("van-nav-bar",{attrs:{title:"个人中心"}}),a("div",{staticClass:"headback"},[a("van-image",{attrs:{round:"",width:"100px",height:"100px",src:t.user.head}}),a("div",{staticClass:"username"},[t._v(t._s(t.user.name))]),a("van-button",{attrs:{plain:"",round:"",hairline:"",size:"small",type:"info"},on:{click:t.editinfo}},[t._v("编辑资料")])],1),a("van-cell",{attrs:{"is-link":""},on:{click:t.showPopup}},[t._v("实名核验")]),a("van-cell",{attrs:{"is-link":""},on:{click:t.showPopup}},[t._v("我的餐饮·特产")]),a("van-cell",{attrs:{"is-link":""},on:{click:t.showPopup}},[t._v("温馨服务")]),a("van-cell",{attrs:{"is-link":""},on:{click:t.showPopup}},[t._v("关于")]),a("van-cell",{attrs:{"is-link":""},on:{click:t.logout}},[t._v("登出")])],1)},N=[],V={data:function(){return{endcity:"杭州",background:a("5454"),user:{name:"张三",head:a("1398")}}},created:function(){null!==JSON.parse(sessionStorage.getItem("user"))&&(this.user.name=JSON.parse(sessionStorage.getItem("user")).username)},methods:{editinfo:function(){this.$toast.loading("现在还不可以哦")},showPopup:function(){this.$toast.loading("功能开发中")},logout:function(){this.$router.push("/")}}},q=V,H=(a("69bb"),Object(i["a"])(q,G,N,!1,null,"79113a52",null)),M=H.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"backgroud"},[a("van-nav-bar",{attrs:{title:"选择城市","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),a("form",{attrs:{action:"/"}},[a("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{search:t.onSearch,cancel:t.onCancel},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),0!=t.history.length?a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa",padding:"0 16px"}},[t._v(" 历史记录 ")]):t._e(),a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa",padding:"0 16px"}},[t._v(" 热门城市 ")]),a("van-grid",{attrs:{gutter:10}},t._l(t.hotcity,(function(e){return a("van-grid-item",{key:e,attrs:{text:e},on:{click:function(a){return t.selectcity(e)}}})})),1)],1)],1)},K=[],T={data:function(){return{value:"",history:[],hotcity:["杭州","绍兴","宁波","温州","上海","金华","台州","湖州"]}},methods:{onClickLeft:function(){this.$router.go(-1)},onSearch:function(t){this.$toast(t)},onCancel:function(){this.$toast("取消")},selectcity:function(t){var e=this.$route.params.city;sessionStorage.setItem(e,t),this.$router.push({name:"index"})}}},W=T,X=(a("c699"),Object(i["a"])(W,Z,K,!1,null,"6fd90140",null)),$=X.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showflag?a("div",{staticClass:"bac"},[a("van-nav-bar",{attrs:{title:"火车查询"},scopedSlots:t._u([{key:"left",fn:function(){return[a("i",{staticClass:"el-icon-arrow-left",on:{click:t.back}})]},proxy:!0}],null,!1,1104504063)}),a("div",{staticClass:"traindate"},[t._v(t._s(this.traindate))]),a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[0!=t.orderlist.length?a("div",[t._l(t.orderlist,(function(e,r){return a("div",{key:r,staticClass:"text item",on:{click:function(e){return t.detail(r)}}},[a("el-card",{staticClass:"box-card"},[a("van-row",[a("van-col",{staticClass:"otherinfo",attrs:{span:"4"}},[t._v(t._s(e.name))]),a("van-col",{staticClass:"city",attrs:{span:"7"}},[t._v(t._s(e.startcity))]),a("van-col",{attrs:{span:"6"}},[a("i",{staticClass:"trainicon"})]),a("van-col",{staticClass:"city",attrs:{span:"7"}},[t._v(t._s(e.endcity))])],1),a("van-row",[a("van-col",{staticClass:"times",attrs:{span:"7",offset:"4"}},[t._v(t._s(e.starttime))]),a("van-col",{attrs:{span:"6",id:"traindate"}},[t._v(t._s(e.duration))]),a("van-col",{staticClass:"times",attrs:{span:"7"}},[t._v(t._s(e.endtime))])],1),a("van-divider",{attrs:{dashed:""}}),a("van-row",{staticClass:"ticket"},[a("van-col",{attrs:{span:"7"}},[t._v("一等："+t._s(e.fnum)+" 张")]),a("van-col",{attrs:{span:"7",offset:"9"}},[t._v("二等："+t._s(e.snum)+" 张")])],1)],1)],1)})),a("div",{staticClass:"fill"})],2):a("div",[a("van-empty",{attrs:{description:"试试乘坐其他班次吧"}})],1)]),a("div",{staticClass:"test"})],1):t._e()},et=[],at={data:function(){return{showflag:!1,startcity:"杭州",endcity:"宁波",traintype:0,count:0,isLoading:!1,traindate:"2020-5-30",orderlist:[{id:"",name:"G100",startcity:"杭州",starttime:"16.37",endcity:"绍兴",endtime:"17:35",duration:"23分钟",fnum:"33",snum:"44",fprice:33,sprice:19}]}},created:function(){localStorage.getItem("traindate")&&(this.traindate=localStorage.getItem("traindate")),null!=sessionStorage.getItem("startcity")&&(this.startcity=sessionStorage.getItem("startcity"),this.endcity=sessionStorage.getItem("endcity"),this.traintype=sessionStorage.getItem("traintype")),this.trainquery()},methods:{onRefresh:function(){var t=this;this.trainquery(),setTimeout((function(){t.$toast("刷新成功"),t.isLoading=!1,t.count++}),1e3)},back:function(){this.$router.go(-1)},detail:function(t){localStorage.setItem("trainorder",JSON.stringify(this.orderlist[t])),this.$router.push({name:"confirmorder"})},trainquery:function(){var t=this;this.$axios({method:"get",url:"/train/trainticketquery",params:{startcity:this.startcity,endcity:this.endcity,traindate:this.traindate,traintype:this.traintype}}).then((function(e){200==e.data.code&&(t.orderlist=e.data.data,t.showflag=!0)})).catch((function(t){console.log(t)}))}}},rt=at,st=(a("dc77"),Object(i["a"])(rt,tt,et,!1,null,"3aee3976",null)),nt=st.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bac"},[a("van-nav-bar",{attrs:{title:"确认订单"},scopedSlots:t._u([{key:"left",fn:function(){return[a("i",{staticClass:"el-icon-arrow-left",on:{click:t.back}})]},proxy:!0}])}),a("div",{staticClass:"traindate"},[t._v(t._s(this.traindate))]),a("div",{staticClass:"card"},[a("div",{staticClass:"text item"},[a("el-card",{staticClass:"box-card"},[a("van-row",[a("van-col",{staticClass:"otherinfo",attrs:{span:"4"}},[t._v(t._s(t.order.name))]),a("van-col",{staticClass:"city",attrs:{span:"7"}},[t._v(t._s(t.order.startcity))]),a("van-col",{attrs:{span:"6"}},[a("i",{staticClass:"trainicon"})]),a("van-col",{staticClass:"city",attrs:{span:"7"}},[t._v(t._s(t.order.endcity))])],1),a("van-row",[a("van-col",{staticClass:"times",attrs:{span:"7",offset:"4"}},[t._v(t._s(t.order.starttime))]),a("van-col",{attrs:{span:"6",id:"traindate"}},[t._v(t._s(t.order.duration))]),a("van-col",{staticClass:"times",attrs:{span:"7"}},[t._v(t._s(t.order.endtime))])],1),a("van-divider",{attrs:{dashed:""}}),t.priceshow?a("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("一等 ￥ "),a("span",{staticClass:"pricetrue"},[t._v(t._s(t.fprice))]),a("span",{staticClass:"price"},[t._v(t._s(t.order.fprice))])]),a("el-radio-button",{attrs:{label:"2"}},[t._v("二等 ￥ "),a("span",{staticClass:"pricetrue"},[t._v(t._s(t.sprice))]),a("span",{staticClass:"price"},[t._v(t._s(t.order.sprice))])])],1):a("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("一等 ￥"+t._s(t.order.fprice))]),a("el-radio-button",{attrs:{label:"2"}},[t._v("二等 ￥"+t._s(t.order.sprice))])],1)],1)],1),a("van-field",{attrs:{readonly:"",clickable:"",name:"picker",value:t.value,label:"选择乘客",placeholder:"点击选择乘车人"},on:{click:t.selectuser}})],1),a("van-submit-bar",{attrs:{"button-text":"提交订单"},on:{submit:t.onSubmit}})],1)},ot=[],ct={data:function(){return{priceshow:!1,discount:1,radio:"1",value:"",showPicker:!1,traindate:"2020/5/30",order:{id:"",state:3,name:"G100",startcity:"杭州",starttime:"16.37",endcity:"绍兴",endtime:"17:35",duration:"23",fnum:"33",snum:"44",fprice:33,sprice:19},userlist:[{id:"",realname:"张三",idcard:"330612154722541",type:0}]}},created:function(){if(this.traindate=localStorage.getItem("traindate"),this.order=JSON.parse(localStorage.getItem("trainorder")),JSON.parse(localStorage.getItem("selectuser"))){var t=JSON.parse(localStorage.getItem("selectuser"));this.value=t.name+"          "+t.idcard}this.getdiscount()},computed:{fprice:function(){return this.order.fprice*this.discount},sprice:function(){return this.order.sprice*this.discount}},methods:{back:function(){this.$router.go(-1)},getdiscount:function(){var t=this;console.log(this.traindate),this.$axios.get("/train/holidaydiscount",{params:{traindate:this.traindate}}).then((function(e){t.discount=e.data.data,1==t.discount?t.priceshow=!1:t.priceshow=!0})).catch((function(t){console.log(t)}))},selectuser:function(){this.$router.push("selectuser")},onSubmit:function(){var t,e,a=this;this.$toast.loading("提交中"),null==JSON.parse(localStorage.getItem("selectuser"))&&this.$toast.fail("请输入乘车人");var r=JSON.parse(localStorage.getItem("selectuser")).id,s=JSON.parse(sessionStorage.getItem("user")).id;1==this.radio?(t=this.order.fprice*this.discount,e=1):(t=this.order.fprice*this.discount,t=this.order.sprice,e=2);var n=this;this.$axios({method:"post",url:"/order/submitorder",data:{price:t,traindate:this.traindate,userId:r,trainId:this.order.id,seattype:e,orderId:s}}).then((function(t){200==t.data.code?(console.log("插入成功"),n.$router.push("index")):501==t.data.code?n.$toast("该类票已经售罄"):303==t.data.code&&n.$toast("该用户审核未通过")})).catch((function(t){console.log(t)}));var i=1;this.timer||(this.count=i,this.timer=setInterval((function(){a.count>0&&a.count<=i?a.count--:(clearInterval(a.timer),a.timer=null)}),1e3))}}},lt=ct,ut=(a("730c"),Object(i["a"])(lt,it,ot,!1,null,"404384bf",null)),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{title:"选择乘客"},scopedSlots:t._u([{key:"left",fn:function(){return[a("i",{staticClass:"el-icon-arrow-left",on:{click:t.back}})]},proxy:!0}])}),t.showflag?a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[a("van-icon",{attrs:{name:"add-o"}}),a("div",{staticClass:"adduser",on:{click:t.add}},[t._v("添加乘车人")]),a("div",{staticClass:"flush"},[t._v("下拉刷新可获取乘车人最新状态")]),t._l(t.userlist,(function(e,r){return a("div",{key:r,on:{click:function(e){return t.select(r)}}},[a("van-row",{attrs:{gutter:"20"}},[a("van-col",{attrs:{span:"8"}},[t._v(t._s(e.name))]),a("van-col",{attrs:{span:"8"}},[t._v(t._s(e.idcard))]),a("van-col",{attrs:{span:"8"}},[0==e.type?a("span",[t._v("成人")]):a("span",[t._v("学生")])])],1)],1)})),a("div",{staticClass:"test"})],2):t._e()],1)},ft=[],mt={data:function(){return{showflag:!1,isLoading:!1,userlist:[{id:"",name:"张三",idcard:"330612154722541",type:0},{id:"",name:"李四",idcard:"330612154722541",type:1}]}},created:function(){var t=this;if(JSON.parse(sessionStorage.getItem("user")))var e=JSON.parse(sessionStorage.getItem("user")).id;this.$axios({method:"get",url:"/user/querypassenger",params:{id:e}}).then((function(e){200==e.data.code&&(t.userlist=e.data.data,t.showflag=!0)})).catch((function(t){console.log(t)}))},methods:{onRefresh:function(){var t=this;setTimeout((function(){t.$toast("刷新成功"),t.isLoading=!1,t.count++}),1e3)},add:function(){this.$toast("功能完善中")},back:function(){this.$router.go(-1)},select:function(t){localStorage.setItem("selectuser",JSON.stringify(this.userlist[t])),this.$router.go(-1)}}},ht=mt,vt=(a("9ddf"),Object(i["a"])(ht,pt,ft,!1,null,"fb2c21c0",null)),gt=vt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showflag?a("div",{staticClass:"bac"},[a("van-nav-bar",{attrs:{title:"订单详情"},scopedSlots:t._u([{key:"left",fn:function(){return[a("i",{staticClass:"el-icon-arrow-left",on:{click:t.back}})]},proxy:!0}],null,!1,1104504063)}),a("div",{staticClass:"card"},[a("div",{staticClass:"text item"},[a("div",{staticClass:"state"},[a("div",[t._v(t._s(this.states))]),a("div",{staticClass:"price"},[t._v("￥"+t._s(t.order.price))])]),a("el-card",{staticClass:"box-card"},[a("van-row",[a("van-col",{staticClass:"otherinfo",attrs:{span:"4"}},[t._v(t._s(t.order.trainname))]),a("van-col",{staticClass:"city",attrs:{span:"7"}},[t._v(t._s(t.order.startcity))]),a("van-col",{attrs:{span:"6"}},[a("i",{staticClass:"trainicon"})]),a("van-col",{staticClass:"city",attrs:{span:"7"}},[t._v(t._s(t.order.endcity))])],1),a("van-row",[a("van-col",{staticClass:"times",attrs:{span:"7",offset:"4"}},[t._v(t._s(t.order.traindate)+" "+t._s(t.order.starttime))]),a("van-col",{attrs:{span:"6",id:"traindate"}},[t._v(t._s(t.order.duration))]),a("van-col",{staticClass:"times",attrs:{span:"7"}},[t._v(t._s(t.order.traindate)+" "+t._s(t.order.starttime))])],1),a("van-row",[a("van-col",{staticClass:"otherinfo",attrs:{span:"8",offset:"16"}},[t._v(t._s(t.order.carriage)+"车"+t._s(t.order.seat)+"座")])],1),a("van-divider",{attrs:{dashed:""}}),a("van-row",{staticClass:"userinfo"},[a("van-col",{attrs:{span:"6"}},[t._v(t._s(t.order.realname))]),a("van-col",{attrs:{span:"18",offse:"5"}},[t._v("身份证:"+t._s(t.order.idcard))])],1),a("van-row",{staticClass:"userinfo"},[a("van-col",{attrs:{span:"6"}},[t._v(t._s(t.order.seattype)+"等座")]),a("van-col",{attrs:{span:"6",offset:"6"}},[t._v("总价 ￥"+t._s(t.order.price))])],1)],1)],1),a("van-button",{attrs:{icon:"edit",type:"info",disabled:t.orderstate1},on:{click:t.editticket}},[t._v("改签")]),a("van-button",{attrs:{icon:"after-sale",type:"info",disabled:t.orderstate2},on:{click:t.returnticket}},[t._v("退票")])],1)],1):t._e()},bt=[],yt={data:function(){return{detailorderid:"",showflag:!1,order:{id:1100000004,idcard:"330214568754123589",realname:"小李",seattype:2,status:2,carriage:1,seat:"01A",traindate:"2020-06-23",createtime:"2020-06-21T09:51:31.000+0000",trainname:"G102",price:25,orderId:1,duration:"25分种",startcity:"杭州",starttime:"15:11:55",endcity:"宁波",endtime:"15:59:52",trainid:"1"}}},created:function(){null!=sessionStorage.getItem("detailorderid")&&(this.detailorderid=sessionStorage.getItem("detailorderid"),this.queryorder())},computed:{states:function(){var t="";return 1==this.order.status&&(t="已预订"),2==this.order.status&&(t="已支付"),3==this.order.status&&(t="已出行"),4==this.order.status&&(t="已退款"),5==this.order.status&&(t="已改签"),t},orderstate1:function(){return 2!=this.order.status},orderstate2:function(){return 5!=this.order.status&&2!=this.order.status}},methods:{back:function(){this.$router.push("order")},editticket:function(){sessionStorage.setItem("stratcity",this.order.startcity),sessionStorage.setItem("endcity",this.order.endcity),this.$router.push("/changeticket")},returnticket:function(){var t=this;j["a"].confirm({title:"退票确认",message:"是否选择退票"}).then((function(){t.deleteorder()})).catch((function(){}))},queryorder:function(){var t=this;this.$axios({method:"get",url:"/order/getdetailorder",params:{id:this.detailorderid}}).then((function(e){200==e.data.code&&(t.order=e.data.data,t.showflag=!0)})).catch((function(t){console.log(t)}))},deleteorder:function(){var t=this;this.$axios({method:"post",url:"/order/deleteorder",data:this.order}).then((function(e){200==e.data.code&&(t.$toast("退票成功"),t.$router.push("/order"))})).catch((function(t){console.log(t)}))}}},Ct=yt,wt=(a("2c9a"),Object(i["a"])(Ct,At,bt,!1,null,"ab0777ec",null)),kt=wt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showflag?a("div",{staticClass:"bac"},[a("van-nav-bar",{attrs:{title:"火车改签"},scopedSlots:t._u([{key:"left",fn:function(){return[a("i",{staticClass:"el-icon-arrow-left",on:{click:t.back}})]},proxy:!0}],null,!1,1104504063)}),a("div",{staticClass:"traindate"},[a("van-cell",{staticClass:"cell",attrs:{value:t.date,center:!0},on:{click:function(e){t.show=!0}}})],1),a("van-calendar",{on:{confirm:t.onConfirm},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}),a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[0!=t.orderlist.length?a("div",[t._l(t.orderlist,(function(e,r){return a("div",{key:r,staticClass:"text item",on:{click:function(a){return t.changeTicket(e.id)}}},[a("el-card",{staticClass:"box-card"},[a("van-row",[a("van-col",{staticClass:"otherinfo",attrs:{span:"4"}},[t._v(t._s(e.name))]),a("van-col",{staticClass:"city",attrs:{span:"7"}},[t._v(t._s(e.startcity))]),a("van-col",{attrs:{span:"6"}},[a("i",{staticClass:"trainicon"})]),a("van-col",{staticClass:"city",attrs:{span:"7"}},[t._v(t._s(e.endcity))])],1),a("van-row",[a("van-col",{staticClass:"times",attrs:{span:"7",offset:"4"}},[t._v(t._s(e.starttime))]),a("van-col",{attrs:{span:"6",id:"traindate"}},[t._v(t._s(e.duration))]),a("van-col",{staticClass:"times",attrs:{span:"7"}},[t._v(t._s(e.endtime))])],1),a("van-divider",{attrs:{dashed:""}}),a("van-row",{staticClass:"ticket"},[a("van-col",{attrs:{span:"7"}},[t._v("一等："+t._s(e.fnum)+" 张")]),a("van-col",{attrs:{span:"7",offset:"9"}},[t._v("二等："+t._s(e.snum)+" 张")])],1)],1)],1)})),a("div",{staticClass:"fill"})],2):a("div",[a("van-empty",{attrs:{description:"试试乘坐其他班次吧"}})],1)]),a("div",{staticClass:"test"})],1):t._e()},_t=[],St={data:function(){return{orderid:0,date:"",show:!1,showflag:!1,startcity:"杭州",endcity:"宁波",count:0,isLoading:!1,traindate:"2020-5-30",orderlist:[{id:"",name:"G100",startcity:"杭州",starttime:"16.37",endcity:"绍兴",endtime:"17:35",duration:"23分钟",fnum:"33",snum:"44",fprice:33,sprice:19}]}},created:function(){localStorage.getItem("traindate")&&(this.date=localStorage.getItem("traindate"),this.startcity=sessionStorage.getItem("startcity"),this.endcity=sessionStorage.getItem("endcity"),this.orderid=parseInt(sessionStorage.getItem("detailorderid"))),this.trainquery()},methods:{formatDate:function(t){return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())},onConfirm:function(t){this.show=!1,this.date=this.formatDate(t),this.trainquery()},onRefresh:function(){var t=this;this.trainquery(),setTimeout((function(){t.$toast("刷新成功"),t.isLoading=!1,t.count++}),1e3)},back:function(){this.$router.go(-1)},trainquery:function(){var t=this;this.$axios({method:"get",url:"/train/trainticketquery",params:{startcity:this.startcity,endcity:this.endcity,traindate:this.date,traintype:2}}).then((function(e){200==e.data.code&&(t.orderlist=e.data.data,t.showflag=!0)})).catch((function(t){console.log(t)}))},changeTicket:function(t){var e=this,a=this;j["a"].confirm({title:"确认提示",message:"您是否确认改签该列车"}).then((function(){e.$axios({method:"post",url:"/order/changeticket",data:{trainid:t,traindate:e.date,orderid:e.orderid}}).then((function(t){501==t.data.code?a.$toast.fail("该类票已售罄"):200==t.data.code&&(a.$toast.success("改签成功"),a.$router.push("/order"))})).catch((function(t){console.log(t)}))})).catch((function(){})),console.log(t,this.date,this.orderid)}}},It=St,Bt=(a("17f1"),Object(i["a"])(It,xt,_t,!1,null,"4769250c",null)),Ft=Bt.exports;r["default"].use(u["a"]);var Et=[{path:"/",name:"Login",component:v},{path:"/register",name:"register",component:w},{path:"/citylist",name:"citylist",component:$},{path:"/querytrain",name:"querytrain",component:nt},{path:"/confirmorder",name:"confirmorder",component:dt},{path:"/selectuser",name:"selectuser",component:gt},{path:"/detailorder",name:"detailorder",component:kt},{path:"/changeticket",name:"changeticket",component:Ft},{path:"/tabbar",name:"tabbar",component:B,children:[{path:"/index",name:"index",component:J},{path:"/order",name:"order",component:P},{path:"/mine",name:"mine",component:M}]}],Ot=new u["a"]({mode:"history",base:"",routes:Et}),Rt=Ot,Dt=a("5c96"),Jt=a.n(Dt),Ut=(a("0fae"),a("b970")),Yt=(a("157a"),a("343b")),jt=a("bc3a"),zt=a.n(jt),Lt=a("4328"),Qt=a.n(Lt),Pt=a("8237"),Gt=a.n(Pt);r["default"].prototype.$md5=Gt.a,r["default"].prototype.$qs=Qt.a,r["default"].prototype.$axios=zt.a,r["default"].prototype.$axios.defaults.baseURL="http://localhost:8081/",r["default"].use(Yt["a"]),r["default"].use(Ut["a"]),r["default"].config.productionTip=!1,r["default"].use(Jt.a),new r["default"]({router:Rt,render:function(t){return t(l)}}).$mount("#app")},"5baa":function(t,e,a){t.exports=a.p+"public/img/grid1.2f9b8754.jpg"},"60d5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADyklEQVRYR9WWX2gcVRTGv3Nn23Rmo9ilNvVBUB8UqkakUqz4EFvQB7OzjQ+p2PqgpemDhWRnVlFfjE95yM62KgjWl0K1WgMmO2NBEW1BqMUKllQL+qCCChZLLDY72z/Z+eQmTciG3Z1dNyV4YWHnnnvO95tz7tx7BCs8ZIX18f8E6PWmtwnVeqWwISIowB8Q/uI7yW9bzWhLGUiPlnbDkF1C9NQSInBUlDrsZ9ccaxakKQD7wHSXRMYoyWcF8gURHREmTl1dvfr3jspFhWur7oiMxBYIB0HeA+CAUlden8iuvRgHEguQyV/ZSMx8AJFuIffMKPWlQeYRcdJ/MTmsBezR0nBEnmRl5rSRWDUIJa9BcEYiY2cx13GuEURDgFlxiT4CeC8M4wF/qGPS9kIC0G824LvWmA6eLoTHdVlIvh3kki9kCmEfiY8B+UGo+htB1AXoG+X6ilH+HES371oL657az9uia6WuiZc6zyx+M9srP09UosDtPKTnM/npJyjqU52J1Fpzy6Hn5HKtTNQFSHvhhwLsILk5yCVPx9Wylj3thUMC7Nd7wnetbEOATCH0I+Cm+UWzKRWc+C/CS32WxlLApaJj2XrdQgZsr1ym8NRyCMbFEMrDvmua1QCF8E8SRwPXGowL0I497YVviGCH71gbqgAyXvnHCPwucK2n2xGI89V7S0EeLLqmPi8WlyD8hoJS4FiPxQVpx379k036rrV5SQnKnwhwV9ExN7YjEOebKZTPEfjZd8zeKoB0IRyRiHv9XDIVF6Qdu50vTVHJO4FjvVK9BwrlZ0i+T87cGuRuvtCOSD3fdP6fdSKJv0RkZ9ExjywBmL6fVJMAB3w3+e6NALC90h5ADopE3UWn82wVgH6wvXCSkN8C13zyRgCkvfIxgF2Baz20cOAtFsrkw5cpGAHkVd81R5YTwvZKbwGyj+TeIJc8WBNAT+ojmUQaQP/8bdcuSO/opR6ljOMAxnzX6l8cr+ZlZHvh3wBuWQ4I2wsdAJ4WXXyr1s3AvCHjheMEts9eSBW+l1DGV+Pump+ayUafd/nuGVZ6IDIgwCYdo94B17Ah6c2Hj4pgWIBt14UvUPC9AFMkpwQypecJpkQkRSAlxH0A1s3OC04o4M2iY43XA49tyWwv1Pf5kID7KLIV5FZAdHnmhsg0yPMA5n76P3Fet2Udt5sdY/1ytVHWmgE4DGBXrfrVC6x7RA2glNw5kTV/bQsgUyh/RvLxZmq/dI2h8Mh41vq6LYDt+dKmaO6zbHnMd81tAbSs2qJD7B5oMV7Ly1cc4F8AKYAwtakKygAAAABJRU5ErkJggg=="},"69bb":function(t,e,a){"use strict";var r=a("49d2"),s=a.n(r);s.a},"6d11":function(t,e,a){t.exports=a.p+"public/img/swiper3.7036e6c5.jpg"},"70cd":function(t,e,a){t.exports=a.p+"public/img/grid4.14c41dd5.jpg"},"710e":function(t,e,a){},"730c":function(t,e,a){"use strict";var r=a("c5b2"),s=a.n(r);s.a},"759a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADSUlEQVRYR+2XXYgTVxTH//872X2obpPt7mayVVr7YQutL4Io4oP4oNKW1vZRrFRQK6VFnYkfIIJfLVq7GRehC32wIlQQSymtIq0fuPgg9U1kq2Ir1oprZlezk/UD1Mk9MpHAkszEBAPxwXk9957zu+ee8z93iCZ/bHJ8PAd4djPw0u5b72i/8H1UjYigL59O/jzWHneGllJkqhCvU5ATxf9bHnD7zfVdt6P8hGaga9PQ+Idx+RPAWxBdCUG1CkRMaczPpc3TgfNEJvsbyI8AHgLkkkAmEHyfxAVVMJbcWtN5MQwiFCDuZD8n+IMGJ4/ayX/DNiYcVyDY76XNT9sz7hdC9IH6Nc/q/q+03vwuO+6+wbMgBjzL/KRmgETmxmZQbfJsM7JGEs7QycChihmLte9fE2J93jJ3lgdp3zX0nogc0ZCFo3bqQLk9NEA9ACKFPlIdFB9v5teZl8NOGXfcIwCu5G3zy4YDAPp3gE5Lnm3DW5J3Qq8rk90NxVc9y1zQcABF2aAFp5VgVqkgy4MkHPcfgezJ26kdNQHEHXctgZ0qFovnVnaMRhThgECu5u3UBwknexjgJM82p1QGzx4EOBfkHM9Knq0J4MUed75S+APkUs9K/ljhNHNjCaj2QvQWL929ub33+iuiY1cB9pOy0Xigzvmt8ga1LBRiHUQsL53qrbkLHvf1406IHlbs9+zknJK9rXf4baX1XgIzx+4h+dWIlYwUtKpS3NYz2GkIK9KqVOvlXLrjWhhch3NzwsOCP7GFsTwLcr2aCgb7qwK0Z9xvhZxeGUgPoCC/eGu7+wNb567hbl/7K0Bjdthakn+NWOb++q7AcQcAmBFS/BmASSoWe/cF/96Vu2w9KYIZQU2UBxGqecG1RHVJlBAViywIkFvZcb7cafHEogcB2QPFU9DYR6U+HFnddThKiAgZ9OzUspq6oB4lJHBMIN9Ule1iQRuzxxZtCeRppZgEjjYXQPQxIb9uWgYAfRzgtuYBiJwAsbWhAKUZHinFPe7HUPg1aDsq40ww70uyXPkecBeJ4Kcoe/SDow4pLnaNMpZD5OUI6f47bFA9UQnrkeLiO3J8YVo5QDXZfiJA9CBqnOXZ/S9o3Bmre3qegUdbR6swc9y98QAAAABJRU5ErkJggg=="},"7e3b":function(t,e,a){},8350:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEAklEQVRYR8VXXWgcVRT+zkyajWJ99hdEtEJjkNaCGDW5947ranQVkaZQpYho8QdE/AURWh/6YkXxwapQVLBUrCLFxBWb7NybBZc8pA8Vo9RVxJ/UPFpi3MQ498hdZsMYsrsz24DnZX/mO+f79pxzzz1L+J+NsvJPTExc6fv+ABENMPMAgIiITgKYtdZ+FwTBz1liphZQKpVyfX19rxHR4+0IiOjo8vLy3kKhsJhGSCoB5XJ5u+d5nwO4qBmUiFaY+QeXAQDXANiUIDzLzHuUUp91EtFRgNb6UQBvJYhf8Tzvo/n5+W9GR0f/dt/PzMxsWlhY6AfwBICHE9jdQogP22as3UOt9QUAFpoYZr5ZKfVVB58HAbzXxNTr9b6RkZHlVj5tMxCG4TEi2umcfd/vHxoa+rZTSt3zSqVycRRFZ9x7IjoohHg+swBjTJ6ZT8RBjgoh7k9D3sSUy+X9nuftc5+ttYUgCBqx1lrLDBhjnmTmNwCc9Txv2/Dw8E9ZBMRZOA1gM4DnpJSvZhXwDjPvJaKSEOLOLORNrDGmzMyKiD4QQuzJJEBrPQPgegAvSSkPdCngADO/yMxfK6WuyyqAYwcppTTdCNBaCwDa+Uop1y13ux6YY+ZLNiIDRHRGCHFp1gw0SrARPQDgpJRyR1YBrwN4yp0CADuklG7spjat9WUA3NzYzMyHlFJuSqY/hmEYBkQ0Gc+BMSHE3anZXeG1Pgjg2U591HYSGmMqzHyLC8LM9ymlPk0jQmt9O4AvYuzbUsrHWvm1FeDu/p6enh+bzkT0tBDClaalaa2PAGhMTSKqMnNBSvlnVwKc0+Tk5I2+71cTIiYAjEVRdJqZT/X29tooivqJaKu7ggHcEGNnfd8f7XR/dLyOXbBKpbI1iqIvAbjGSmOpyBtZahdtamrqNmttEcA9AC5Pw5zA/AZgnJnHlFKlTCWIbzLX9dtaOP7OzDW3BwL4h4iuAnA1APe6np2y1h4PgmD/2of/yUCtVsvNzc0dYuaHkkAi+tVaO+553tjKyspsPp//ZT0Wt8BYa7f4vn8rgF3MvH0Nzo30YrIpVwWEYeimnpt+STviUri4uDheLBb/ylgCGGPuZeZdTkzS11p7UxAEjcZuCJienr6wXq+7idcwIvqemV+QUh7PStoiM3fFe+VqE+dyufMHBwfrDQHGmBPMnI/J32XmZ6SUf2wEeTOG1vpaAIcTx/SwlPIRMsbsZOZjMXnmkZtFZLVaPW9paekTIhqJ/R6gMAzfTPzZcA0yniVoVqzWOrk1v09aa7cwuMWhJqXckjVgN3ittdsvr3DVXxXAzB8rpUa7CZjVR2vtBtMdTQHu1+9ze1fWQOeCjzP/cqq74FyIOvn+C2zEvRl8XUI2AAAAAElFTkSuQmCC"},8360:function(t,e,a){"use strict";var r=a("4415"),s=a.n(r);s.a},"85d4":function(t,e,a){t.exports=a.p+"public/img/lunch.ca0821e9.jpg"},"85ec":function(t,e,a){},"87c1":function(t,e,a){},8894:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABH0lEQVRYR+2XMW7CQBBF/4/dsChSrpAm14D0YKVJkbQ5QbCoQ2owxwgSFTL0IQdImTo+AlLEdmaQC0uOCGsJOWtL7NZ/Z57+zu7MEjUv1pwfDsA5wGCqJxA8AbiyXJAbkHMGkf4WImEqHzYBxGOHgm4GIEKslwN1axOgP9XvBwDBeDsyQcTD9qgqzd8AkZZjALlLmWNGyFAxD35MFxc0v47AFPxMAOqugd74p2s639Xwcl2VxhVhQx1wRehewrodyK6G6SHKWnaVmmbNA5KmrzYHEnreS+7AG4AHm8nzXAJ8sj/Z3hG8gYiyCSEX3FB2X838F5S13FOd8n0/WTy3kuL+AweCSM8B3J+apGRfEofqugxgACD6J4BZHKrHYuw9BzSru7O/S6oAAAAASUVORK5CYII="},"94b1":function(t,e,a){"use strict";var r=a("a9ba"),s=a.n(r);s.a},9531:function(t,e,a){},"9ddf":function(t,e,a){"use strict";var r=a("b61c"),s=a.n(r);s.a},a9ba:function(t,e,a){},a9d6:function(t,e,a){t.exports=a.p+"public/img/swiper1.9e860722.jpg"},aef9:function(t,e,a){t.exports=a.p+"public/img/grid2.864ea904.png"},b61c:function(t,e,a){},b66f:function(t,e,a){t.exports=a.p+"public/img/swiper2.333b53d8.jpg"},b8eb:function(t,e,a){t.exports=a.p+"public/img/serve.40bba59a.png"},bbdf:function(t,e,a){},c5b2:function(t,e,a){},c699:function(t,e,a){"use strict";var r=a("7e3b"),s=a.n(r);s.a},d0cf:function(t,e,a){t.exports=a.p+"public/img/login.6940b49a.jpg"},dc77:function(t,e,a){"use strict";var r=a("bbdf"),s=a.n(r);s.a}});
//# sourceMappingURL=app.91c3b2a1.js.map