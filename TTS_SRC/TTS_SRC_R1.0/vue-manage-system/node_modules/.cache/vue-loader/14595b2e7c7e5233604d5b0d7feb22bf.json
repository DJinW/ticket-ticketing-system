{"remainingRequest":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\vue-manage-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\vue-manage-system\\src\\components\\page\\Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\vue-manage-system\\src\\components\\page\\Dashboard.vue","mtime":1617708212000},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\vue-manage-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695300880332},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\vue-manage-system\\node_modules\\babel-loader\\lib\\index.js","mtime":1695300879325},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\vue-manage-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1695300880332},{"path":"C:\\Users\\安姿铜\\Desktop\\TrainTicketSystem-master\\vue-manage-system\\node_modules\\vue-loader\\lib\\index.js","mtime":1695300880312}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Schart from 'vue-schart';\nimport bus from '../common/bus';\nimport {fetch} from '../../api/index'\nexport default {\n    name: 'dashboard',\n    data() {\n        return {\n            date:'',\n            board:{\n            // 用户注册数\n            userregisters:400000,\n            // 消息通知数\n            notice:332,\n            // 当日交易额\n            pricenum:501234,\n            // 乘客比例\n            },\n            \n            passengerproportion:[71.3,26.1,3.3],\n            input:'',\n            name: localStorage.getItem('ms_username'),\n            todoList: [\n        \n                {\n                    title: '今天完成火车趟数增加',\n                    status: false\n                },\n                {\n                    title: '修改一等二等座位价格',\n                    status: false\n                },\n                {\n                    title: '紧急停止某班列车',\n                    status: false\n                },\n                {\n                    title: '审核注册用户名',\n                    status: true\n                }\n            ],\n            data: [\n                {\n                    name: '2018/09/04',\n                    value: 1083\n                },\n                {\n                    name: '2018/09/05',\n                    value: 941\n                },\n                {\n                    name: '2018/09/06',\n                    value: 1139\n                },\n                {\n                    name: '2018/09/07',\n                    value: 816\n                },\n                {\n                    name: '2018/09/08',\n                    value: 327\n                },\n                {\n                    name: '2018/09/09',\n                    value: 228\n                },\n                {\n                    name: '2018/09/10',\n                    value: 1065\n                }\n            ],\n            options: {\n                type: 'bar',\n                title: {\n                    text: '最近一周各类火车类型售票情况'\n                },\n                xRorate: 25,\n                labels: ['周一', '周二', '周三', '周四', '周五','周六','周日'],\n                datasets: [\n                    {\n                        label: '高铁',\n                        data: [234, 278, 270, 190, 230,443,465]\n                    },\n                    {\n                        label: '动车',\n                        data: [164, 178, 190, 135, 160,234,432]\n                    }\n                ]\n            },\n            options2: {\n                type: 'line',\n                title: {\n                    text: '最近几个月各类火车销售额收入'\n                },\n                labels: ['1月', '2月', '3月', '4月', '5月'],\n                datasets: [\n                    {\n                        label: '高铁',\n                        data: [234, 278, 270, 190, 230]\n                    },\n                    {\n                        label: '动车',\n                        data: [164, 178, 150, 135, 160]\n                    }\n                ]\n            }\n        };\n    },\n    components: {\n        Schart\n    },\n    created() {\n        if(JSON.parse(localStorage.getItem('todolist')))\n            this.todoList=JSON.parse(localStorage.getItem('todolist'));\n        \n\n        this.getTodayPrice();\n    },\n    computed: {\n        role() {\n            return this.name === 'admin' ? '超级管理员' : '普通用户';\n        }\n    },\n    // created() {\n    //     this.handleListener();\n    //     this.changeDate();\n    // },\n    // activated() {\n    //     this.handleListener();\n    // },\n    // deactivated() {\n    //     window.removeEventListener('resize', this.renderChart);\n    //     bus.$off('collapse', this.handleBus);\n    // },\n    methods: {\n        // 获取当天交易额\n        getTodayPrice(){\n            let that = this;\n            this.nowDate();\n            fetch('/price/gettodaytotalprice',{\n                orderdate:this.date\n            }).then(res=>{\n                if(res==null)\n                    res=0;\n                that.board.pricenum=res;\n            })\n        },\n\n        nowDate(){\n        var nowDate = new Date();\n        let date = {\n            year: nowDate.getFullYear(),\n            month: nowDate.getMonth() + 1,\n            day: nowDate.getUTCDate()\n        }\n            this.date = date.year+'-'+date.month+ '-'+date.day;\n        },\n        addthing(){\n            this.todoList.push({ title: this.input,\n                    status: false});\n            this.input='';\n            localStorage.setItem('todolist',JSON.stringify(this.todoList));\n        },\n\n        deltodo(index, row){\n           console.log(index, row);\n           this.todoList.splice(index,1);\n        },\n        changeDate() {\n            const now = new Date().getTime();\n            this.data.forEach((item, index) => {\n                const date = new Date(now - (6 - index) * 86400000);\n                item.name = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`;\n            });\n        }\n        // handleListener() {\n        //     bus.$on('collapse', this.handleBus);\n        //     // 调用renderChart方法对图表进行重新渲染\n        //     window.addEventListener('resize', this.renderChart);\n        // },\n        // handleBus(msg) {\n        //     setTimeout(() => {\n        //         this.renderChart();\n        //     }, 200);\n        // },\n        // renderChart() {\n        //     this.$refs.bar.renderChart();\n        //     this.$refs.line.renderChart();\n        // }\n    }\n};\n",{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\n    <div>\n        <el-row :gutter=\"20\">\n            <el-col :span=\"8\">\n                <el-card shadow=\"hover\" class=\"mgb20\" style=\"height:252px;\">\n                    <div class=\"user-info\">\n                        <img src=\"@/assets/img/img.jpg\" class=\"user-avator\" alt />\n                        <div class=\"user-info-cont\">\n                            <div class=\"user-info-name\">{{name}}</div>\n                            <div>{{role}}</div>\n                        </div>\n                    </div>\n                    <div class=\"user-info-list\">\n                        上次登录时间：\n                        <span>2020-6-25</span>\n                    </div>\n                    <div class=\"user-info-list\">\n                        上次登录地点：\n                        <span>杭州</span>\n                    </div>\n                </el-card>\n                <el-card shadow=\"hover\" style=\"height:220px;\">\n                    <div slot=\"header\" class=\"clearfix\">\n                        <span>旅客类型比例</span>\n                    </div>普通成人旅客\n                    <el-progress :percentage=\"passengerproportion[0]\" color=\"#42b983\"></el-progress>学生旅客\n                    <el-progress :percentage=\"passengerproportion[1]\" color=\"#f1e05a\"></el-progress>军人旅客\n                    <el-progress :percentage=\"passengerproportion[2]\"></el-progress>\n                </el-card>\n            </el-col>\n            <el-col :span=\"16\">\n                <el-row :gutter=\"20\" class=\"mgb20\">\n                    <el-col :span=\"8\">\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\n                            <div class=\"grid-content grid-con-1\">\n                                <i class=\"el-icon-lx-people grid-con-icon\"></i>\n                                <div class=\"grid-cont-right\">\n                                    <div class=\"grid-num\">{{board.userregisters}}</div>\n                                    <div>用户注册数</div>\n                                </div>\n                            </div>\n                        </el-card>\n                    </el-col>\n                    <el-col :span=\"8\">\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\n                            <div class=\"grid-content grid-con-2\">\n                                <i class=\"el-icon-lx-notice grid-con-icon\"></i>\n                                <div class=\"grid-cont-right\">\n                                    <div class=\"grid-num\">{{board.notice}}</div>\n                                    <div>系统消息</div>\n                                </div>\n                            </div>\n                        </el-card>\n                    </el-col>\n                    <el-col :span=\"8\">\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\n                            <div class=\"grid-content grid-con-3\">\n                                <i class=\"el-icon-lx-recharge grid-con-icon\"></i>\n                                <div class=\"grid-cont-right\">\n                                    <div class=\"grid-num\">￥{{board.pricenum}}</div>\n                                    <div>当日交易额</div>\n                                </div>\n                            </div>\n                        </el-card>\n                    </el-col>\n                </el-row>\n                <el-card shadow=\"hover\" style=\"height:373px;\">\n                    <div slot=\"header\" class=\"clearfix\">\n                        <span>待办事项</span>\n                    </div>\n                    待办内容\n                    <el-input size=\"mini\" v-model=\"input\" placeholder=\"请输入内容\" class=\"addtodo\"></el-input>\n                      <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"addthing\">添加</el-button>\n                    <el-table :show-header=\"false\" :data=\"todoList\" style=\"width:100%;\">\n                        <el-table-column width=\"40\">\n                            <template slot-scope=\"scope\">\n                                <el-checkbox v-model=\"scope.row.status\"></el-checkbox>\n                            </template>\n                        </el-table-column>\n                        <el-table-column>\n                            <template slot-scope=\"scope\">\n                                <div\n                                    class=\"todo-item\"\n                                    :class=\"{'todo-item-del': scope.row.status}\">{{scope.row.title}}\n                                    </div>\n                            </template>\n                        </el-table-column>\n                        <el-table-column width=\"60\">\n                            <template slot-scope=\"scope\">\n                                <i class=\"el-icon-delete\" @click='deltodo(scope.$index,scope.row)'></i>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </el-card>\n            </el-col>\n        </el-row>\n        <el-row :gutter=\"20\">\n            <el-col :span=\"12\">\n                <el-card shadow=\"hover\">\n                    <schart ref=\"bar\" class=\"schart\" canvasId=\"bar\" :options=\"options\"></schart>\n                </el-card>\n            </el-col>\n            <el-col :span=\"12\">\n                <el-card shadow=\"hover\">\n                    <schart ref=\"line\" class=\"schart\" canvasId=\"line\" :options=\"options2\"></schart>\n                </el-card>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport Schart from 'vue-schart';\nimport bus from '../common/bus';\nimport {fetch} from '../../api/index'\nexport default {\n    name: 'dashboard',\n    data() {\n        return {\n            date:'',\n            board:{\n            // 用户注册数\n            userregisters:400000,\n            // 消息通知数\n            notice:332,\n            // 当日交易额\n            pricenum:501234,\n            // 乘客比例\n            },\n            \n            passengerproportion:[71.3,26.1,3.3],\n            input:'',\n            name: localStorage.getItem('ms_username'),\n            todoList: [\n        \n                {\n                    title: '今天完成火车趟数增加',\n                    status: false\n                },\n                {\n                    title: '修改一等二等座位价格',\n                    status: false\n                },\n                {\n                    title: '紧急停止某班列车',\n                    status: false\n                },\n                {\n                    title: '审核注册用户名',\n                    status: true\n                }\n            ],\n            data: [\n                {\n                    name: '2018/09/04',\n                    value: 1083\n                },\n                {\n                    name: '2018/09/05',\n                    value: 941\n                },\n                {\n                    name: '2018/09/06',\n                    value: 1139\n                },\n                {\n                    name: '2018/09/07',\n                    value: 816\n                },\n                {\n                    name: '2018/09/08',\n                    value: 327\n                },\n                {\n                    name: '2018/09/09',\n                    value: 228\n                },\n                {\n                    name: '2018/09/10',\n                    value: 1065\n                }\n            ],\n            options: {\n                type: 'bar',\n                title: {\n                    text: '最近一周各类火车类型售票情况'\n                },\n                xRorate: 25,\n                labels: ['周一', '周二', '周三', '周四', '周五','周六','周日'],\n                datasets: [\n                    {\n                        label: '高铁',\n                        data: [234, 278, 270, 190, 230,443,465]\n                    },\n                    {\n                        label: '动车',\n                        data: [164, 178, 190, 135, 160,234,432]\n                    }\n                ]\n            },\n            options2: {\n                type: 'line',\n                title: {\n                    text: '最近几个月各类火车销售额收入'\n                },\n                labels: ['1月', '2月', '3月', '4月', '5月'],\n                datasets: [\n                    {\n                        label: '高铁',\n                        data: [234, 278, 270, 190, 230]\n                    },\n                    {\n                        label: '动车',\n                        data: [164, 178, 150, 135, 160]\n                    }\n                ]\n            }\n        };\n    },\n    components: {\n        Schart\n    },\n    created() {\n        if(JSON.parse(localStorage.getItem('todolist')))\n            this.todoList=JSON.parse(localStorage.getItem('todolist'));\n        \n\n        this.getTodayPrice();\n    },\n    computed: {\n        role() {\n            return this.name === 'admin' ? '超级管理员' : '普通用户';\n        }\n    },\n    // created() {\n    //     this.handleListener();\n    //     this.changeDate();\n    // },\n    // activated() {\n    //     this.handleListener();\n    // },\n    // deactivated() {\n    //     window.removeEventListener('resize', this.renderChart);\n    //     bus.$off('collapse', this.handleBus);\n    // },\n    methods: {\n        // 获取当天交易额\n        getTodayPrice(){\n            let that = this;\n            this.nowDate();\n            fetch('/price/gettodaytotalprice',{\n                orderdate:this.date\n            }).then(res=>{\n                if(res==null)\n                    res=0;\n                that.board.pricenum=res;\n            })\n        },\n\n        nowDate(){\n        var nowDate = new Date();\n        let date = {\n            year: nowDate.getFullYear(),\n            month: nowDate.getMonth() + 1,\n            day: nowDate.getUTCDate()\n        }\n            this.date = date.year+'-'+date.month+ '-'+date.day;\n        },\n        addthing(){\n            this.todoList.push({ title: this.input,\n                    status: false});\n            this.input='';\n            localStorage.setItem('todolist',JSON.stringify(this.todoList));\n        },\n\n        deltodo(index, row){\n           console.log(index, row);\n           this.todoList.splice(index,1);\n        },\n        changeDate() {\n            const now = new Date().getTime();\n            this.data.forEach((item, index) => {\n                const date = new Date(now - (6 - index) * 86400000);\n                item.name = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`;\n            });\n        }\n        // handleListener() {\n        //     bus.$on('collapse', this.handleBus);\n        //     // 调用renderChart方法对图表进行重新渲染\n        //     window.addEventListener('resize', this.renderChart);\n        // },\n        // handleBus(msg) {\n        //     setTimeout(() => {\n        //         this.renderChart();\n        //     }, 200);\n        // },\n        // renderChart() {\n        //     this.$refs.bar.renderChart();\n        //     this.$refs.line.renderChart();\n        // }\n    }\n};\n</script>\n\n\n<style scoped>\n.el-row {\n    margin-bottom: 20px;\n}\n\n.grid-content {\n    display: flex;\n    align-items: center;\n    height: 100px;\n}\n\n.grid-cont-right {\n    flex: 1;\n    text-align: center;\n    font-size: 14px;\n    color: #999;\n}\n\n.grid-num {\n    font-size: 30px;\n    font-weight: bold;\n}\n\n.grid-con-icon {\n    font-size: 50px;\n    width: 100px;\n    height: 100px;\n    text-align: center;\n    line-height: 100px;\n    color: #fff;\n}\n\n.grid-con-1 .grid-con-icon {\n    background: rgb(45, 140, 240);\n}\n\n.grid-con-1 .grid-num {\n    color: rgb(45, 140, 240);\n}\n\n.grid-con-2 .grid-con-icon {\n    background: rgb(100, 213, 114);\n}\n\n.grid-con-2 .grid-num {\n    color: rgb(45, 140, 240);\n}\n\n.grid-con-3 .grid-con-icon {\n    background: rgb(242, 94, 67);\n}\n\n.grid-con-3 .grid-num {\n    color: rgb(242, 94, 67);\n}\n\n.user-info {\n    display: flex;\n    align-items: center;\n    padding-bottom: 20px;\n    border-bottom: 2px solid #ccc;\n    margin-bottom: 20px;\n}\n\n.user-avator {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n}\n\n.user-info-cont {\n    padding-left: 50px;\n    flex: 1;\n    font-size: 14px;\n    color: #999;\n}\n\n.user-info-cont div:first-child {\n    font-size: 30px;\n    color: #222;\n}\n\n.user-info-list {\n    font-size: 14px;\n    color: #999;\n    line-height: 25px;\n}\n\n.user-info-list span {\n    margin-left: 70px;\n}\n\n.mgb20 {\n    margin-bottom: 20px;\n}\n\n.todo-item {\n    font-size: 14px;\n}\n\n.todo-item-del {\n    text-decoration: line-through;\n    color: #999;\n}\n\n.schart {\n    width: 100%;\n    height: 300px;\n}\n\n.addtodo{\n    width: 50%;\n    margin-left: 8%;\n}\n</style>\n"]}]}